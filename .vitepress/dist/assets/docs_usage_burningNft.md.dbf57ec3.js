import{t as p,d as D}from"./chunks/index.3140ef9b.js";import{I as h}from"./chunks/BKDImgContainer.cbc55db5.js";import{u as f,f as A,l as b}from"./chunks/useProviders.c3f760b5.js";import{i as E}from"./chunks/isValideverAddress.f5c5d07d.js";import{z as g}from"./chunks/zeroAddress.201f434b.js";import{d as m,_,J as F,c as C,k as s,n as l,N as B,a as o,V as u,o as v}from"./chunks/framework.af8f98c2.js";async function w(n){var t;try{const[a,r]=await f();if(!E(a,n))return p("Please enter a valid nft address !",0),"Failed";const y=A.Nft,i=new a.Contract(y,new D.Address(n)),d=await i.methods.getInfo({answerId:0}).call(),e=await i.methods.burn({sendGasTo:r,callbackTo:g,callbackPayload:""}).send({from:r,amount:String(2*10**9),bounce:!0});return e.aborted?`Burning Nft failed ${e.exitCode,e.resultCode}`:((t=(await a.getFullContractState({address:new D.Address(n)})).state)==null?void 0:t.isDeployed)?(p("Burning Nft failed",0),`Burning Nft failed ! ${e.exitCode,e.resultCode}`):(p(`Nft number ${d.id} burnt successfully`,1),`tx hash ${e.id.hash}`)}catch(a){return p(a.message,0),a.message}}const k=m({name:"deployToken",components:{ImgContainer:h,loading:b},data(){return{LLdis:"cbShow",EIPdis:"cbHide",llAction:"llAction cbShow",eipAction:"eipAction cbHide",collMeta:"cbHide",nftMeta:"cbHide",loadingText:" ",loadingText2:" "}},setup(){async function n(){if(this.loadingText="",this.$refs.actionNftAddress.value==""){p("Nft address field is required !",0),this.loadingText="Failed";return}let a=await w(this.$refs.actionNftAddress.value);a=a||"Failed",this.loadingText=a}async function t(a){a.target.innerHTML.includes("everscale-inpage-provider")?(this.LLdis="cbHide",this.EIPdis="cbShow",this.llAction="llAction cbHide",this.eipAction="eipAction cbShow"):a.target.innerHTML.includes("locklift")&&(this.EIPdis="cbHide",this.LLdis="cbShow",this.llAction="llAction cbShow",this.eipAction="eipAction cbHide")}return{_burnNft:n,codeBlockSwitchHandler:t}}}),os=JSON.parse('{"title":"Burning Nfts","description":"","frontmatter":{},"headers":[],"relativePath":"docs/usage/burningNft.md","filePath":"docs/usage/burningNft.md"}');const N=s("h1",{id:"burning-nfts",tabindex:"-1"},[o("Burning Nfts "),s("a",{class:"header-anchor",href:"#burning-nfts","aria-label":'Permalink to "Burning Nfts"'},"â€‹")],-1),T={class:"deployToken"},S=s("p",null,"This section involves the tutorial on burning the non-fungible tokens. This operations is performed by draining all of the gas tokens in he nft contract, this way the nft contract won;t have the enough gas tokens to pay for the storage fees that the TVM based blockchains receives for storing the data.",-1),P=s("p",null,"The total supply amount in the collection contract is updated after the nft is destroyed by a callback function that calls the relevant function on the collection contract that reduces the total supply by one.",-1),I=s("div",{class:"tip custom-block"},[s("p",{class:"custom-block-title"},"TIP"),s("p",null,"As we saud earlier the index contracts will get destroyed when the nft contracts get burnt. Please notice that this operation is not handled by the nft or the collection contract or even by the user. The index contracts will get freezed after sometimes when the their balance gets negative because of the storage fees and gets deleted after sometime.")],-1),x=s("h2",{id:"step-1-write-burning-script",tabindex:"-1"},[o("Step 1: Write burning Script "),s("a",{class:"header-anchor",href:"#step-1-write-burning-script","aria-label":'Permalink to "Step 1: Write burning Script"'},"â€‹")],-1),H=s("p",null,"The code sample below uses the locklift tool and the previously written script and burns the nfts.",-1),L=s("p",null,[o("Add the following lines of code to the "),s("a",{href:"./transferringNft.html#step-1-write-transfer-script"},"previously written script"),o(" on minting the nft's section.")],-1),$=s("div",{class:"info custom-block"},[s("p",{class:"custom-block-title"},"INFO"),s("p",null,[o("Before we start to write our scripts we need to make sure that there is a file named "),s("code",null,"04-burn-nft.ts"),o(" in the "),s("code",null,"script"),o(" folder in the project root.")])],-1),q=[H,L,$],z=s("p",null,[o("Utilize the code sample below to burn the nfts using the "),s("code",null,"everscale-inpage-provider"),o(" tool.")],-1),G=s("p",null,[o("add the following lines of code to the "),s("a",{href:"./transferringNft.html#step-1-write-transfer-script"},"previously written script"),o(" on deploying the base collection contract section.")],-1),M=[z,G],V=u(`<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-alurS" id="tab-MmiXHmG" checked="checked"><label for="tab-MmiXHmG">locklift</label><input type="radio" name="group-alurS" id="tab-_FGhheT"><label for="tab-_FGhheT">everscale-inpage-provider</label></div><div class="blocks"><div class="language-typescript active"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Burning nfts</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> nftContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">burn</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">sendGasTo</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> account</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">address</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">callbackPayload</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">callbackTo</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> zeroAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> account</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">address</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toNano</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">bounce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// fetching the account again and see if we get the &quot;account not found&quot; error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">burnt nft info: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> nftContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInfo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">answerId</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#BABED8;">())</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// Account not found</span></span></code></pre></div><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> burnRes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Transaction</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> nftContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">burn</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">sendGasTo</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> providerAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">callbackTo</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> zeroAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">callbackPayload</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> providerAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">String</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">**</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">9</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">bounce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div></div></div>`,1),O=[V],R={class:"action"},J=s("h2",{id:"step-2-burn-an-nft",tabindex:"-1"},[o("Step 2: Burn an NFT "),s("a",{class:"header-anchor",href:"#step-2-burn-an-nft","aria-label":'Permalink to "Step 2: Burn an NFT"'},"â€‹")],-1),U=u('<p>Use this command to find the nfts using indexing:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">locklift</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">./scripts/05-burn-nft.ts</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">local</span></span></code></pre></div>',2),W=s("p",null,"Congratulations, you have successfully burnt an TIP4 Nft ðŸŽ‰",-1),X=s("p",{style:{"margin-bottom":"0"}},"Nft Address",-1),j={ref:"actionNftAddress",type:"text",class:"action Ain"};function K(n,t,a,r,y,i){const d=F("ImgContainer"),e=F("loading");return v(),C("div",null,[N,s("div",T,[S,P,I,x,s("span",{class:l(n.LLdis)},q,2),s("span",{class:l(n.EIPdis)},M,2),s("div",{onClick:t[0]||(t[0]=(...c)=>n.codeBlockSwitchHandler&&n.codeBlockSwitchHandler(...c))},O),s("div",R,[J,s("div",{class:l(n.llAction)},[U,B(d,{src:"/burningNft.png",width:"100%",altText:"deployTip3Output"}),W],2),s("div",{class:l(n.eipAction)},[X,s("input",j,null,512),s("p",null,[s("button",{onClick:t[1]||(t[1]=(...c)=>n._burnNft&&n._burnNft(...c)),class:"deployTokenBut"}," Burn Nft ")]),s("p",{id:"output-p",class:l(n.EIPdis)},[B(e,{text:n.loadingText},null,8,["text"])],2)],2)])])])}const ts=_(k,[["render",K]]);export{os as __pageData,ts as default};
